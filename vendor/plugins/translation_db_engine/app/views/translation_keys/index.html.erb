<% locales = TranslationKey.available_locales %>
<%= link_to "New", new_translation_key_url %>

<%= will_paginate(@translation_keys) %>
<table>
  <thead>
    <tr>
      <td>Key</td>
      <td>Translations</td>
    </tr>
  </thead>
  <tbody>
    <% @translation_keys.each do |key| %>
      <tr class="<%= cycle "even","odd"%>">
        <td><%= key.key %></td>
        <td>
          <% translations = key.translations.map{|t| [t.locale, t]} %>
          <% locales.each do |locale| %>
            <%= locale %>:
            <%= translations.assoc(locale)[1].text if translations.assoc(locale) %><br/>
          <% end %>
        </td>
        <td>
          <%= link_to '<b style="color:red">X</b>', key, :confirm=>"Delete key #{key.key} ?", :method=>:delete %>
          <%= link_to "Edit", key %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
<%= will_paginate(@translation_keys) %>